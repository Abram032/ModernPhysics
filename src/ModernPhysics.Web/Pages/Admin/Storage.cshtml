@page
@model ModernPhysics.Web.Pages.Admin.StorageModel
@{
    ViewData["Title"] = "Storage";
    Layout = "~/Pages/Shared/_LayoutDashboard.cshtml";
}

<h1 class="display-4">Modern Physics - Categories</h1>
<hr>

<div class="row">
    <div class="col-lg-12 mb-4">
        <form method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="custom-file col-10">
                    <label asp-for="@Model.Files" class="custom-file-label"></label>
                    <input asp-for="@Model.Files" class="custom-file-input">
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-primary ml-2">
                        <span class="fa fa-cloud-upload-alt mr-1"></span>
                        <span>Upload</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<form method="post">
    <div class="row">


        @foreach (var blob in Model.Blobs)
        {
            <div class="col-lg-4 mb-4">
                <div class="card">
                    <div class="card-header">
                        <h5>@blob.Name</h5>
                        <a href="https://@blob.Url" class="fa fa-eye primary"></a>
                        <button class="btn btn-link" type="submit" asp-page-handler="delete" asp-route-id="@blob.Id">
                            <span class="fa fa-trash danger"></span>
                        </button>
                    </div>
                    <div class="card-body">
                        @switch (blob.Type)
                        {
                            case var type when type.StartsWith("image"):
                                <img src="https://@blob.Url" alt="@blob.Description" class="img-fluid" />
                                break;
                            case var type when type.Equals("text/plain"):
                                <span class="fa fa-file-alt fa-10x"></span>
                                break;
                            case var type when type.Contains("application/pdf"):
                                <span class="fa fa-file-pdf fa-10x"></span>
                                break;
                            case var type when type.Contains("excel")
                               || type.Contains("spreadsheetml"):
                                <span class="fa fa-file-excel fa-10x"></span>
                                break;
                            case var type when type.Equals("application/msword")
                               || type.Contains("ms-word")
                               || type.Contains("wordprocessingml"):
                                <span class="fa fa-file-word fa-10x"></span>
                                break;
                            case var type when type.Contains("powerpoint")
                               || type.Contains("presentationml"):
                                <span class="fa fa-file-powerpoint fa-10x"></span>
                                break;
                            case var type when type.StartsWith("video"):
                                <span class="fa fa-file-video fa-10x"></span>
                                break;
                            case var type when type.Equals("text/csv"):
                                <span class="fa fa-file-csv fa-10x"></span>
                                break;
                            case var type when type.StartsWith("audio"):
                                <span class="fa fa-file-audio fa-10x"></span>
                                break;
                            case var type when type.Contains("x-bzip")
                                || type.Contains("x-rar")
                                || type.Contains("x-7z")
                                || type.Contains("x-zip")
                                || type.Equals("application/zip")
                                || type.Equals("application/x-tar"):
                                <span class="fa fa-file-archive fa-10x"></span>
                                break;
                            default:
                                <span class="fa fa-file fa-10x"></span>
                                break;
                            }
                    </div>
                    <div class="card-footer">
                        <span>@blob.Type</span>
                    </div>
                </div>
            </div>
        }

    </div>
</form>